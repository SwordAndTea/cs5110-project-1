[gd_scene load_steps=41 format=3 uid="uid://bmgfabx2nd453"]

[ext_resource type="Script" uid="uid://cdghhlwd28ukr" path="res://scenes/busstop.gd" id="1_eru8g"]
[ext_resource type="PackedScene" uid="uid://btamyw4txrvit" path="res://scenes/player.tscn" id="1_hr2fb"]
[ext_resource type="PackedScene" uid="uid://qwkk3jryklca" path="res://scenes/fade_in_sun.tscn" id="2_c4wk2"]
[ext_resource type="Texture2D" uid="uid://bjo2dkt8vylyj" path="res://sprites/bus stop.png" id="2_xjad6"]
[ext_resource type="Texture2D" uid="uid://b873x43mf2o1j" path="res://sprites/bg.png" id="3_eru8g"]
[ext_resource type="Texture2D" uid="uid://de4fqackxfkcy" path="res://sprites/bus sprite.png" id="5_6rqqc"]
[ext_resource type="AudioStream" uid="uid://03f5e32jp8ui" path="res://Music/bus starting.mp3" id="5_fl7oo"]
[ext_resource type="PackedScene" uid="uid://bjlwfjxkywprp" path="res://scenes/scene_transition_animation.tscn" id="6_4jjng"]
[ext_resource type="AudioStream" uid="uid://d22vy5qo5lt2o" path="res://Music/calming-rain-257596.mp3" id="7_jhu8c"]
[ext_resource type="Script" uid="uid://bsdc6xfm3cglh" path="res://scripts/canvas_layer.gd" id="8_7q8y5"]
[ext_resource type="AudioStream" uid="uid://dptsngylj68ji" path="res://Music/melancholic-tranquility-364766.mp3" id="8_p876l"]
[ext_resource type="AudioStream" uid="uid://bc62vreuikch0" path="res://Music/dry-thunder-364468.mp3" id="9_uk1l0"]
[ext_resource type="FontFile" uid="uid://oat1w7uvyamo" path="res://fonts/Special_Elite/SpecialElite-Regular.ttf" id="9_xrhou"]
[ext_resource type="Script" uid="uid://bdr40y7vte066" path="res://scenes/magnifying.gd" id="10_uk1l0"]
[ext_resource type="Texture2D" uid="uid://b1j1b2k83cjxs" path="res://sprites/magnifying glass.png" id="11_vca46"]
[ext_resource type="Texture2D" uid="uid://b0as0v1oa04x" path="res://sprites/rain.png" id="12_vca46"]
[ext_resource type="PackedScene" uid="uid://cb1mvlw5mwov2" path="res://scenes/item_status_bar.tscn" id="13_7q8y5"]
[ext_resource type="PackedScene" uid="uid://b7j53rnva35n1" path="res://scenes/umbrella_status_bar.tscn" id="17_tgyys"]
[ext_resource type="Texture2D" uid="uid://cqij6sovlfht7" path="res://sprites/bg - Copy.png" id="18_vltqg"]
[ext_resource type="Texture2D" uid="uid://d14ufs6o88df7" path="res://sprites/floor.png" id="19_c4wk2"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_4jjng"]
distance = 3.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_l05rq"]
distance = -64.25195

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_324qj"]
normal = Vector2(-1, 0)
distance = 205.5

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xjad6"]
size = Vector2(141, 274.75)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7q8y5"]
size = Vector2(102, 75)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fl7oo"]
size = Vector2(190, 600)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vltqg"]
size = Vector2(308, 538)

[sub_resource type="AtlasTexture" id="AtlasTexture_tgyys"]
atlas = ExtResource("5_6rqqc")
region = Rect2(0, 0, 1443, 1060)

[sub_resource type="AtlasTexture" id="AtlasTexture_c8xaa"]
atlas = ExtResource("5_6rqqc")
region = Rect2(1443, 0, 1443, 1060)

[sub_resource type="AtlasTexture" id="AtlasTexture_vltqg"]
atlas = ExtResource("5_6rqqc")
region = Rect2(2886, 0, 1443, 1060)

[sub_resource type="AtlasTexture" id="AtlasTexture_c4wk2"]
atlas = ExtResource("5_6rqqc")
region = Rect2(4329, 0, 1443, 1060)

[sub_resource type="AtlasTexture" id="AtlasTexture_0ectm"]
atlas = ExtResource("5_6rqqc")
region = Rect2(5772, 0, 1443, 1060)

[sub_resource type="AtlasTexture" id="AtlasTexture_jdo7k"]
atlas = ExtResource("5_6rqqc")
region = Rect2(7215, 0, 1443, 1060)

[sub_resource type="AtlasTexture" id="AtlasTexture_vwwwb"]
atlas = ExtResource("5_6rqqc")
region = Rect2(8658, 0, 1443, 1060)

[sub_resource type="AtlasTexture" id="AtlasTexture_fa3ud"]
atlas = ExtResource("5_6rqqc")
region = Rect2(10101, 0, 1443, 1060)

[sub_resource type="SpriteFrames" id="SpriteFrames_v6hpi"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tgyys")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c8xaa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vltqg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c4wk2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0ectm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jdo7k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vwwwb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fa3ud")
}],
"loop": false,
"name": &"default",
"speed": 7.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_7q8y5"]
atlas = ExtResource("12_vca46")
region = Rect2(0, 0, 3508, 2480)

[sub_resource type="AtlasTexture" id="AtlasTexture_xrhou"]
atlas = ExtResource("12_vca46")
region = Rect2(3508, 0, 3508, 2480)

[sub_resource type="AtlasTexture" id="AtlasTexture_6rqqc"]
atlas = ExtResource("12_vca46")
region = Rect2(7016, 0, 3508, 2480)

[sub_resource type="SpriteFrames" id="SpriteFrames_fl7oo"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_7q8y5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xrhou")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6rqqc")
}],
"loop": true,
"name": &"rain",
"speed": 6.0
}]

[node name="bus stop" type="Node2D"]
position = Vector2(-3348, -584)
script = ExtResource("1_eru8g")

[node name="fade in sun" parent="." instance=ExtResource("2_c4wk2")]
z_index = 1
z_as_relative = false

[node name="BgSun" parent="fade in sun" index="0"]
z_index = 0
position = Vector2(922, -343)

[node name="BgSunCopy" parent="fade in sun" index="1"]
z_index = 1
position = Vector2(4310, -344)

[node name="player" parent="." instance=ExtResource("1_hr2fb")]
z_index = 2
position = Vector2(-915, 121)
collision_mask = 2
max_zoom = 9.0

[node name="boundaries" type="StaticBody2D" parent="."]
position = Vector2(-352, 110)
scale = Vector2(4, 4)
collision_layer = 2

[node name="bottom boundary" type="CollisionShape2D" parent="boundaries"]
position = Vector2(-2, 10)
shape = SubResource("WorldBoundaryShape2D_4jjng")

[node name="left boundary" type="CollisionShape2D" parent="boundaries"]
position = Vector2(-103, -37.75)
rotation = 1.5782
shape = SubResource("WorldBoundaryShape2D_l05rq")

[node name="right boundary" type="CollisionShape2D" parent="boundaries"]
position = Vector2(578.25, -45.75)
shape = SubResource("WorldBoundaryShape2D_324qj")

[node name="InsideDetect" type="Area2D" parent="."]
position = Vector2(-240, -2)
scale = Vector2(4, 4)

[node name="CollisionShape2D" type="CollisionShape2D" parent="InsideDetect"]
position = Vector2(-244.5, -74.75)
shape = SubResource("RectangleShape2D_xjad6")

[node name="magnifying" type="Area2D" parent="."]
position = Vector2(781, 42)
script = ExtResource("10_uk1l0")
message_text = "…Maybe this could help…?
"

[node name="CollisionShape2D" type="CollisionShape2D" parent="magnifying"]
position = Vector2(-371, 61)
shape = SubResource("RectangleShape2D_7q8y5")

[node name="Sprite2D" type="TextureRect" parent="magnifying/CollisionShape2D"]
offset_left = -36.0
offset_top = -44.5
offset_right = 57.0
offset_bottom = 31.5
rotation = 0.22786745
texture = ExtResource("11_vca46")
metadata/_edit_use_anchors_ = true

[node name="CollisionShape2D2" type="CollisionShape2D" parent="magnifying"]
position = Vector2(127, 48.5)
shape = SubResource("RectangleShape2D_7q8y5")

[node name="Bus Leave" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bus Leave"]
position = Vector2(228, -150)
shape = SubResource("RectangleShape2D_fl7oo")

[node name="Bus Leaving" type="AudioStreamPlayer2D" parent="."]
position = Vector2(1067, -214)
stream = ExtResource("5_fl7oo")

[node name="End Game" type="Area2D" parent="."]
position = Vector2(3535, -31)

[node name="CollisionShape2D" type="CollisionShape2D" parent="End Game"]
z_index = 1
position = Vector2(144, -67)
shape = SubResource("RectangleShape2D_vltqg")

[node name="Area2D" type="Area2D" parent="."]

[node name="CanvasLayer" type="CanvasLayer" parent="."]
scale = Vector2(1.135, 1.135)
transform = Transform2D(1.135, 0, 0, 1.135, 0, 0)
script = ExtResource("8_7q8y5")

[node name="Label" type="Label" parent="CanvasLayer"]
anchors_preset = -1
anchor_left = -1.457067
anchor_top = -1.299
anchor_right = -1.457067
anchor_bottom = -1.299
offset_left = 1742.4619
offset_top = 898.13965
offset_right = 2612.462
offset_bottom = 1008.1398
theme_override_fonts/font = ExtResource("9_xrhou")
theme_override_font_sizes/font_size = 33
text = "text here..."
horizontal_alignment = 1
metadata/_edit_use_anchors_ = true

[node name="Timer" type="Timer" parent="CanvasLayer"]
wait_time = 3.0
one_shot = true

[node name="Bus2" type="AnimatedSprite2D" parent="."]
position = Vector2(1259, -282)
sprite_frames = SubResource("SpriteFrames_v6hpi")

[node name="Background" type="Node" parent="."]

[node name="BusStop" type="Sprite2D" parent="Background"]
z_index = 1
position = Vector2(-2422, -869)
texture = ExtResource("2_xjad6")

[node name="Bg" type="Sprite2D" parent="Background"]
z_index = -1
position = Vector2(-2418, -922)
texture = ExtResource("3_eru8g")

[node name="Rain" type="AnimatedSprite2D" parent="Background"]
z_index = 3
position = Vector2(-2951.9194, -1007.375)
scale = Vector2(0.75292325, 0.75292337)
sprite_frames = SubResource("SpriteFrames_fl7oo")
animation = &"rain"
frame_progress = 0.40694404

[node name="Rain2" type="AnimatedSprite2D" parent="Background"]
z_index = 3
position = Vector2(-503.00024, -1001.00006)
scale = Vector2(0.75292325, 0.75292337)
sprite_frames = SubResource("SpriteFrames_fl7oo")
animation = &"rain"
frame_progress = 0.40694404

[node name="BgCopy" type="Sprite2D" parent="Background"]
position = Vector2(940, -923)
texture = ExtResource("18_vltqg")

[node name="Floor" type="Sprite2D" parent="Background"]
z_index = 1
position = Vector2(-43, -869)
texture = ExtResource("19_c4wk2")

[node name="floor" type="Polygon2D" parent="Background"]
z_index = 1
position = Vector2(-6804.995, -930.0342)
rotation = 0.0014689598
scale = Vector2(23.134878, 17.181967)
color = Color(0.3019608, 0.3019608, 0.3019608, 1)
polygon = PackedVector2Array(74.29367, 30.817776, 235.45264, 32.00006, 320.49844, 27.304373, 407.51022, 27.481476, 418.70642, 28.390541, 514.9662, 63.058002, 74.764084, 65.79542)

[node name="CanvasModulate" type="CanvasModulate" parent="."]
position = Vector2(-643, -467)
color = Color(0.50534403, 0.5053441, 0.50534385, 1)

[node name="SceneTransitionAnimation" parent="." instance=ExtResource("6_4jjng")]
z_index = 3
position = Vector2(595, 82)

[node name="rain" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_jhu8c")
volume_db = -17.954
autoplay = true
parameters/looping = false

[node name="music" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_p876l")
autoplay = true
parameters/looping = false

[node name="thunder" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_uk1l0")
volume_db = -6.599
autoplay = true
parameters/looping = false

[node name="ItemStatusBar" parent="." instance=ExtResource("13_7q8y5")]

[node name="UmbrellaStatusBar" parent="." instance=ExtResource("17_tgyys")]

[connection signal="body_entered" from="InsideDetect" to="." method="_on_inside_detect_body_entered"]
[connection signal="body_exited" from="InsideDetect" to="." method="_on_inside_detect_body_exited"]
[connection signal="mouse_entered" from="magnifying" to="magnifying" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="magnifying" to="magnifying" method="_on_mouse_exited"]
[connection signal="body_entered" from="Bus Leave" to="." method="_on_bus_leave_body_entered"]
[connection signal="body_entered" from="End Game" to="." method="_on_end_game_body_entered"]

[editable path="fade in sun"]
